# GemGPT Talk

ChatGPT と Google Gemini が現在のテーマに沿って自然に会話を続ける Electron デスクトップアプリケーション。ユーザーはいつでも会話に参加でき、AI同士の興味深い対話を観察・体験できます。

## 🌟 特徴

### 🤖 AI同士の自然な会話
- **ChatGPT** と **Google Gemini** が交互に会話
- テーマに沿った自然な対話の流れ
- 各AIの個性と特徴を活かした会話

### 💬 ユーザー参加型
- いつでも会話に割り込み可能
- リアルタイムでの会話参加
- テーマ変更による会話の方向性制御

### ⚡ コスト最適化
- 30秒間アクティビティがない場合の自動一時停止
- APIコストの効率的な管理
- 無駄なAPI呼び出しを防止

### 🎨 美しいUI/UX
- モダンで洗練されたデザイン
- レスポンシブ対応
- スムーズなアニメーション効果

## 📋 機能一覧

### 基本機能
- ✅ AI同士の自動会話
- ✅ ユーザー参加機能
- ✅ テーマ設定・変更
- ✅ 会話履歴保持
- ✅ 一時停止・再開機能

### 高度な機能
- ✅ 自動一時停止（30秒間アクティビティなし）
- ✅ リアルタイム会話制御
- ✅ エラーハンドリング
- ✅ レスポンシブデザイン

## 🚀 セットアップ

### 前提条件
- Node.js (v16以上)
- npm または yarn
- OpenAI API キー
- Google Gemini API キー

### システム要件
- **OS**: Windows 10+, macOS 10.14+, Linux
- **メモリ**: 4GB以上推奨
- **ストレージ**: 100MB以上の空き容量
- **ネットワーク**: インターネット接続必須（API通信）

### 1. リポジトリのクローン
```bash
git clone <repository-url>
cd GemGPT-Talk
```

### 2. 依存関係のインストール
```bash
npm install
```

### 3. 環境変数の設定
プロジェクトルートに `.env` ファイルを作成し、APIキーを設定：

```env
OPENAI_API_KEY=あなたのOpenAIキー
GEMINI_API_KEY=あなたのGeminiキー
```

### 4. アプリケーションの起動
```bash
npm run dev
```

## 📖 使用方法

### 基本的な使い方

1. **アプリケーション起動**
   - アプリを起動すると、美しいUIが表示されます
   - 初回起動時はAPIキーの設定が必要です

2. **テーマ設定**
   - 画面上部の「テーマ」入力欄に会話のテーマを入力
   - 例：「日本の経済について」「AI技術の未来」「旅行の思い出」
   - テーマは会話中でも変更可能です

3. **会話開始**
   - 「会話開始」ボタンをクリック、またはテーマ入力後にEnterキーを押す
   - ChatGPTとGeminiが交互に会話を開始
   - 各AIの個性を活かした自然な会話が展開されます

4. **ユーザー参加**
   - 下部の入力欄にメッセージを入力
   - Enterキーまたは「送信」ボタンで会話に参加
   - いつでも会話に割り込むことができます

### 高度な使い方

#### 会話制御
- **一時停止**: オレンジ色の一時停止ボタンで会話を一時停止
- **再開**: 緑色の再開ボタンで会話を再開
- **自動一時停止**: 30秒間アクティビティがない場合、自動的に一時停止

#### テーマ変更
- 会話中でもテーマを変更可能
- 変更後、AIが自然に新しいテーマに沿って会話を続行

#### エラー対応
- API制限エラー: 適切なエラーメッセージを表示
- ネットワークエラー: 自動リトライ機能

## 🛠️ 技術仕様

### アーキテクチャ
```
GemGPT-Talk/
├── main.js          # Electronメインプロセス（AI API通信、IPC制御）
├── renderer.js      # レンダラープロセス（UI制御、会話管理）
├── preload.js       # セキュアなAPIブリッジ（IPC通信）
├── index.html       # UIレイアウト（レスポンシブデザイン）
├── package.json     # 依存関係管理
└── .env             # 環境変数設定（APIキー）
```

### プロセス構成
- **メインプロセス** (`main.js`): AI APIとの通信、ウィンドウ管理
- **レンダラープロセス** (`renderer.js`): UI制御、会話状態管理
- **プリロードスクリプト** (`preload.js`): セキュアなIPC通信

### 使用技術
- **フレームワーク**: Electron (v30.0.0)
- **AI API**: OpenAI API (v4.52.7), Google Gemini API (v0.19.0)
- **言語**: JavaScript (ESM)
- **設定管理**: dotenv (v16.4.5)
- **UI**: HTML5, CSS3, Vanilla JavaScript
- **アイコン**: Lucide Icons
- **プロセス間通信**: IPC (Inter-Process Communication)
- **セキュリティ**: コンテキスト分離、サンドボックス

### セキュリティ
- **コンテキスト分離**: メインプロセスとレンダラープロセスの分離
- **APIブリッジ**: preload.jsによる安全なIPC通信
- **サンドボックス**: セキュリティ強化
- **環境変数**: APIキーの安全な管理
- **プロセス間通信**: セキュアなIPC通信

### 会話管理システム
- **自動一時停止**: 30秒間アクティビティなしで自動停止
- **会話履歴**: 最新8件の会話を保持
- **プロンプトエンジニアリング**: 動的なプロンプト生成
- **エラーハンドリング**: API制限、ネットワークエラー対応

## 🎯 ユースケース

### 学習・研究
- AI同士の会話を通じた学習
- 異なるAIモデルの特徴比較
- テーマ別の知識探索

### エンターテイメント
- 興味深いAI同士の対話観察
- 創造的な会話の生成
- 新しい視点の発見

### 開発・テスト
- AI APIの動作確認
- プロンプトエンジニアリングの実験
- 会話AIの性能比較

## 🔧 カスタマイズ

### プロンプトの調整
`main.js` の `buildPrompt` 関数でプロンプトをカスタマイズ可能：

```javascript
function buildPrompt({ theme, history, speaker }) {
    // プロンプトの調整
    // theme: 現在のテーマ
    // history: 会話履歴（最新8件）
    // speaker: 'chatgpt' または 'gemini'
}
```

### 会話制御の調整
`renderer.js` で会話の動作をカスタマイズ可能：

```javascript
// 自動一時停止時間（ミリ秒）
const AUTO_PAUSE_DELAY = 30000;

// 最小会話間隔（ミリ秒）
let minIntervalMs = 800;

// 会話履歴保持件数
const HISTORY_LIMIT = 8;
```

### UIのカスタマイズ
`index.html` のCSSでデザインをカスタマイズ可能：

```css
/* カスタムスタイル */
.msg .content {
    /* メッセージスタイル */
}
```

### 自動一時停止時間の変更
`renderer.js` で自動一時停止時間を調整：

```javascript
const AUTO_PAUSE_DELAY = 30000; // 30秒
```

### 開発環境の設定
開発時の便利な設定：

```bash
# 開発モードで起動
npm run dev

# 本番ビルド
npm run build

# 依存関係の更新
npm update
```

## 🐛 トラブルシューティング

### よくある問題

#### APIキーエラー
```
エラー: OPENAI_API_KEY が設定されていません (.env)
```
**解決方法**: `.env` ファイルに正しいAPIキーを設定

#### ネットワークエラー
```
エラー: Geminiの利用制限に達しました
```
**解決方法**: しばらく時間をおいてから再試行

#### アプリが起動しない
**解決方法**:
1. Node.jsのバージョンを確認
2. `npm install` を再実行
3. Electronのキャッシュをクリア

### ログの確認
開発者ツールでログを確認：
- メインプロセス: ターミナル出力
- レンダラープロセス: ブラウザ開発者ツール

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 コントリビューション

1. このリポジトリをフォーク
2. 機能ブランチを作成 (`git checkout -b feature/AmazingFeature`)
3. 変更をコミット (`git commit -m 'Add some AmazingFeature'`)
4. ブランチにプッシュ (`git push origin feature/AmazingFeature`)
5. プルリクエストを作成

## 📞 サポート

問題や質問がある場合は、GitHubのIssuesページで報告してください。

## 🔄 更新履歴

### v1.2.0
- 会話の多様性を向上
- AIが反対意見や異なる視点を述べるようにプロンプトを修正
- 「しかし」「一方で」「確かにそうですが」などの表現を追加
- より活発な議論を促進する設定に変更

### v1.1.0
- 会話の途切れ問題を修正
- ChatGPTとGeminiのトークン制限を500に増加
- プロンプトの最適化による自然な会話の改善
- 会話履歴の最適化（6件に調整）

### v1.0.0
- 初期リリース
- ChatGPTとGeminiの会話機能
- ユーザー参加機能
- 美しいUI/UX
- 自動一時停止機能
- レスポンシブデザイン

---

**GemGPT Talk** - AI同士の会話を体験しよう！ 🤖💬